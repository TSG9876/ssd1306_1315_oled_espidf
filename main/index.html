<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
    <title>index</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <h1>DATA X: <span id="Acc_X"></span></h1>
    <h1>DATA Y: <span id="Acc_Y"></span></h1>
   <h1>SENSOR: <span id="Val_1"></span></h1>


    <script>
        $(document).ready(function () {
            let intervalId;

            function updateData() {
                // Fetch and update Acc_X
                $.get("/Acc_X")
                    .done(data1 => $("#Acc_X").text(data1))
                    .fail(() => console.error("Failed to load Acc_X"));

                // Fetch and update Acc_Y
                $.get("/Acc_Y")
                    .done(data2 => $("#Acc_Y").text(data2))
                    .fail(() => console.error("Failed to load Acc_Y"));

               $.get("/Val_1")
                    .done(data3 => $("#Val_1").text(data3))
                    .fail(() => console.error("Failed to load Val_1"));



            }

            intervalId = setInterval(updateData, 1000);

            $(window).on('beforeunload', function () {
                clearInterval(intervalId);
            });
        });
    </script>
</body>

</html>